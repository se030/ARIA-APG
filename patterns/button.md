# [Button Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/button/)

Button은 유저가 form을 제출하거나, dialog를 띄우거나, 액션을 취소하거나, 삭제 명령을 하는 등의 액션이나 이벤트를 트리거할 수 있도록 하는 위젯입니다.

버튼이 dialog 요소를 활성화한다는 점을 전달하기 위해 많이 사용하는 컨벤션은 라벨에 '...'(ellipsis)를 붙이는 것입니다.

WAI-ARIA에서는 일반적인 버튼 위젯 외에도 두 가지 종류의 버튼 타입을 지원합니다:

#### 토글 버튼

off/on 두 개의 상태를 가지는 버튼입니다. 보조 기술에 토글 버튼임을 알리려면 `aria-pressed` 속성값을 명시합니다.

예를 들어, 오디오 플레이어의 음소거 버튼은 pressed 상태를 true로 설정해 음소거가 되어있음을 나타낼 수 있습니다.

**중요:** 상태가 변경되었을 때 라벨값이 변하지 않는 것은 치명적입니다. 이 점을 고려해 토글 버튼이 필요한 상황인지 고민하는 것이 좋습니다.

앞의 예시에서 pressed=true인 경우에도 라벨이 "Mute"로 유지된다면 스크린 리더는 "Mute toggle button pressed"라고 정보를 읽습니다. 직관적이지 못한 정보 전달입니다. 이런 방식 대신에 활성화 상태에 따라 "Mute"/"Unmute"로 라벨이 변경된다면 `aria-pressed` 속성 없이도 토글 버튼이 가지는 의미를 전달할 수 있습니다.

#### 메뉴 버튼

[menu button pattern](https://www.w3.org/WAI/ARIA/apg/patterns/menu-button/)에 설명된 것처럼, `aria-haspopup` 속성이 menu 또는 true로 설정된 버튼은 보조 기술에 메뉴 버튼으로 해석됩니다.

> Note
> 버튼이 제공하는 동작은 [링크](https://www.w3.org/WAI/ARIA/apg/patterns/link/)와 명확히 구분됩니다. 모든 위젯에는 기능에 알맞은 생김새와 role이 부여되어야 합니다. 종종 시각적으로는 링크 형태를 가진 요소가 버튼 동작을 제공하는 경우가 있는데, 이런 경우 `role="button"` 속성을 통해 보조 기술이 요소의 기능을 제대로 해석하도록 돕습니다. 다만 더 권장되는 방식은 기능과 ARIA role을 고려해 디자인하는 것입니다.

### 키보드 상호작용

버튼에 포커스가 있을 때,

- `Space`, `Enter`: 버튼을 활성화합니다.

- 버튼 활성화 이후에는 버튼 기능에 따라 포커스가 설정됩니다.

  - [dialog](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/) 요소가 띄워진다면, 포커스는 dialog 내부로 이동합니다.

  - dialog 요소가 닫히는 경우 일반적으로 포커스는 dialog를 띄운 버튼으로 돌아갑니다. dialog 내부에서 의도적으로 다른 요소로 보내지는 경우가 아니라면 말입니다. dialog에서 페이지 삭제를 승인했다면 포커스는 새로운 컨텍스트로 이동할 것입니다.

  - Apply, Recalculate 버튼처럼 현재 컨텍스트를 변경하지 않는 경우에는 활성화 동작에도 요소에 포커스가 유지됩니다.

  - 다음 페이지로 넘어가거나 새 검색 조건을 추가하는 등 버튼이 컨텍스트를 변경한다면, 해당 액션의 시작점으로 포커스가 이동하는 것이 적절합니다.

  - 단축키를 이용해 버튼을 활성화하는 경우에는 단축키가 실행된 컨텍스트에 포커스가 유지됩니다. 예를 들어 `Alt + U` 키가 현재 포커스된 아이템을 리스트에서 한 단계 높은 위치로 이동시키는 "Up" 버튼의 단축키로 지정되어 있다면, 리스트에 포커스가 있는 상태에서 `Alt + U` 키를 눌러도 포커스가 이동하지 않을 것입니다.

### WAI-ARIA Roles, States, Properties

- `role="button"`을 가집니다.

- 버튼은 접근성 라벨을 가집니다. 기본적으로 버튼 내부 텍스트에 따라 accessible name이 결정되지만 `aria-labelledby` 또는 `aria-label`을 통해 제공될 수도 있습니다.

- 버튼 기능에 대한 설명을 가진 요소가 문서에 존재한다면, `aria-describedby` 속성을 해당 요소 ID로 설정합니다.

- 버튼 기능이 제공될 수 없는 상태라면 `aria-disabled="true"`를 명시합니다.

- 토글 버튼이라면 `aria-pressed` 값을 가지도록 합니다.
